/*
 * Automatically generated by jrpcgen 1.0.7 on 27/08/2010
 * jrpcgen is part of the "Remote Tea.Net" ONC/RPC package for C#
 * See http://remotetea.sourceforge.net for details
 */

namespace NFSLibrary.Protocols.Commons.Exceptions.Mount
{
    using System;
    using System.Collections.Generic;

    /// <summary>
    /// Helper class for throwing mount-specific exceptions based on error codes.
    /// </summary>
    public class MountExceptionHelpers
    {
        private static Dictionary<NFSMountStats, string> ExceptionList()
        {
            Dictionary<NFSMountStats, string> rDictionary = new Dictionary<NFSMountStats, string>
            {
                { NFSMountStats.MNT_OK, "Indicates the call completed successfully" },
                { NFSMountStats.MNTERR_PERM, "Not owner." },
                { NFSMountStats.MNTERR_NOENT, "No such file or directory." },
                { NFSMountStats.MNTERR_SRCH, "No such process." },
                { NFSMountStats.MNTERR_INTR, "Interrupted system call." },
                { NFSMountStats.MNTERR_IO, "I/O error" },
                { NFSMountStats.MNTERR_NXIO, "No such device or address" },
                { NFSMountStats.MNTERR_TOOBIG, "Arg list too long" },
                { NFSMountStats.MNTERR_NOEXEC, "Exec format error" },
                { NFSMountStats.MNTERR_BADF, "Bad file number" },
                { NFSMountStats.MNTERR_CHILD, "No child processes" },
                { NFSMountStats.MNTERR_AGAIN, "Try again (Linux), No more processes (SCO Unix)" },
                { NFSMountStats.MNTERR_NOMEM, "Out of memory (Linux), Not enough space (SCO Unix)" },
                { NFSMountStats.MNTERR_ACCES, "Permission denied." },
                { NFSMountStats.MNTERR_FAULT, "Bad address." },
                { NFSMountStats.MNTERR_NOTBLK, "Block device required." },
                { NFSMountStats.MNTERR_BUSY, "Device or resource busy (Linux), Device busy (SCO Unix)." },
                { NFSMountStats.MNTERR_EXIST, "File exists." },
                { NFSMountStats.MNTERR_XDEV, "Cross-device link." },
                { NFSMountStats.MNTERR_NODEV, "No such device." },
                { NFSMountStats.MNTERR_NOTDIR, "Not a directory." },
                { NFSMountStats.MNTERR_ISDIR, "Is a directory." },
                { NFSMountStats.MNTERR_INVAL, "Invalid argument." },
                { NFSMountStats.MNTERR_NFILE, "File table overflow." },
                { NFSMountStats.MNTERR_MFILE, "Too many open files." },
                { NFSMountStats.MNTERR_NOTTY, "Not a typewriter." },
                { NFSMountStats.MNTERR_TXTBSY, "Text file busy." },
                { NFSMountStats.MNTERR_FBIG, "File too large." },
                { NFSMountStats.MNTERR_NOSPC, "No space left on device." },
                { NFSMountStats.MNTERR_SPIPE, "Illegal seek." },
                { NFSMountStats.MNTERR_ROFS, "Read-only file system." },
                { NFSMountStats.MNTERR_MLINK, "Too many links." },
                { NFSMountStats.MNTERR_PIPE, "Broken pipe." },
                { NFSMountStats.MNTERR_NAMETOOLONG, "Filename too long." },
                { NFSMountStats.MNTERR_NOTSUPP, "Operation not supported." },
                { NFSMountStats.MNTERR_SERVERFAULT, "A failure on the server." }
            };

            return rDictionary;
        }

        /// <summary>
        /// Throws an appropriate mount exception based on the provided error code.
        /// </summary>
        /// <param name="errorCode">The mount error code.</param>
        /// <exception cref="NFSMountGeneralException">Thrown for general mount errors.</exception>
        /// <exception cref="NFSMountAuthenticationException">Thrown for authentication errors.</exception>
        /// <exception cref="NFSMountUnauthorizedAccessException">Thrown for unauthorized access errors.</exception>
        /// <exception cref="NFSMountIOException">Thrown for I/O errors.</exception>
        /// <exception cref="NFSMountCommunicationException">Thrown for communication errors.</exception>
        public static void ThrowException(NFSMountStats errorCode)
        {
            if (errorCode != NFSMountStats.MNT_OK)
            {
                Dictionary<NFSMountStats, string> exceptionMessages = MountExceptionHelpers.ExceptionList();

                if (exceptionMessages.ContainsKey(errorCode))
                {
                    string message = exceptionMessages[errorCode];

                    switch (errorCode)
                    {
                        case NFSMountStats.MNTERR_ACCES:
                            throw new NFSMountAuthenticationException(message);

                        case NFSMountStats.MNTERR_EXIST:
                        case NFSMountStats.MNTERR_FBIG:
                        case NFSMountStats.MNTERR_IO:
                        case NFSMountStats.MNTERR_ISDIR:
                        case NFSMountStats.MNTERR_NAMETOOLONG:
                        case NFSMountStats.MNTERR_NOENT:
                        case NFSMountStats.MNTERR_NOSPC:
                        case NFSMountStats.MNTERR_NOTDIR:
                        case NFSMountStats.MNTERR_NXIO:
                            throw new NFSMountIOException(message);

                        case NFSMountStats.MNTERR_PERM:
                        case NFSMountStats.MNTERR_ROFS:
                            throw new NFSMountUnauthorizedAccessException(message);

                        case NFSMountStats.MNTERR_FAULT:
                        case NFSMountStats.MNTERR_BUSY:
                        case NFSMountStats.MNTERR_AGAIN:
                        case NFSMountStats.MNTERR_SERVERFAULT:
                            throw new NFSMountCommunicationException(message);

                        case NFSMountStats.MNTERR_TXTBSY:
                        case NFSMountStats.MNTERR_TOOBIG:
                        case NFSMountStats.MNTERR_SRCH:
                        case NFSMountStats.MNTERR_NOTTY:
                        case NFSMountStats.MNTERR_NOTBLK:
                        case NFSMountStats.MNTERR_NOMEM:
                        case NFSMountStats.MNTERR_NOEXEC:
                        case NFSMountStats.MNTERR_INVAL:
                        case NFSMountStats.MNTERR_INTR:
                        case NFSMountStats.MNTERR_CHILD:
                        case NFSMountStats.MNTERR_BADF:
                        case NFSMountStats.MNTERR_XDEV:
                        case NFSMountStats.MNTERR_NOTSUPP:
                        case NFSMountStats.MNTERR_NODEV:
                        case NFSMountStats.MNTERR_MLINK:
                        case NFSMountStats.MNTERR_MFILE:
                        case NFSMountStats.MNTERR_NFILE:
                        case NFSMountStats.MNTERR_PIPE:
                        case NFSMountStats.MNTERR_SPIPE:
                            throw new NFSMountGeneralException(message);

                        default:
                            throw new NFSMountGeneralException("General Exception Occured!");
                    }
                }
                else
                {
                    throw new NFSMountGeneralException("Unknown Exception Occured!");
                }
            }
        }
    }
}
