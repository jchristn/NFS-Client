/*
 * Automatically generated by jrpcgen 1.0.7 on 27/08/2010
 * jrpcgen is part of the "Remote Tea.Net" ONC/RPC package for C#
 * See http://remotetea.sourceforge.net for details
 */

namespace NFSLibrary.Protocols.V3.RPC
{
    using NFSLibrary.Protocols.Commons;
    using NFSLibrary.Rpc;

    /// <summary>
    /// Represents settable file attributes for file creation operations for NFS v3 protocol operations.
    /// </summary>
    public class MakeAttributes : XdrAble
    {
        private NFSPermission _Mode;
        private bool _Setmode;

        private int _Uid;
        private bool _Setuid;

        private int _Gid;
        private bool _Setgid;

        private long _Size;
        private bool _Setsize;

        private NFSTimeValue _Atime;
        private TimeHow _Setatime;

        private NFSTimeValue _Mtime;
        private TimeHow _Setmtime;

        /// <summary>
        /// Initializes a new instance of the <see cref="MakeAttributes"/> class.
        /// </summary>
        public MakeAttributes()
        {
            this._Setmode = false;
            this._Setuid = false;
            this._Setgid = false;
            this._Setsize = false;
            this._Setatime = TimeHow.DONT_CHANGE;
            this._Setmtime = TimeHow.DONT_CHANGE;
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="MakeAttributes"/> class by decoding from an XDR stream.
        /// </summary>
        /// <param name="xdr">The XDR decoding stream to read from.</param>
        public MakeAttributes(XdrDecodingStream xdr)
        { XdrDecode(xdr); }

        /// <summary>
        /// Encodes this instance to an XDR encoding stream.
        /// </summary>
        /// <param name="xdr">The XDR encoding stream to write to.</param>
        public void XdrEncode(XdrEncodingStream xdr)
        {
            xdr.XdrEncodeBoolean(this._Setmode);
            if (this._Setmode)
            { xdr.XdrEncodeInt(this._Mode.Mode); }

            xdr.XdrEncodeBoolean(this._Setuid);
            if (this._Setuid)
            { xdr.XdrEncodeInt(this._Uid); }

            xdr.XdrEncodeBoolean(this._Setgid);
            if (this._Setgid)
            { xdr.XdrEncodeInt(this._Gid); }

            xdr.XdrEncodeBoolean(this._Setsize);
            if (this._Setsize)
            { xdr.XdrEncodeLong(this._Size); }

            xdr.XdrEncodeBoolean(this._Setatime != TimeHow.DONT_CHANGE);
            if (this._Setatime != TimeHow.DONT_CHANGE)
            { this._Atime.XdrEncode(xdr); }

            xdr.XdrEncodeBoolean(this._Setmtime != TimeHow.DONT_CHANGE);
            if (this._Setmtime != TimeHow.DONT_CHANGE)
            { this._Mtime.XdrEncode(xdr); }
        }

        /// <summary>
        /// Decodes this instance from an XDR decoding stream.
        /// </summary>
        /// <param name="xdr">The XDR decoding stream to read from.</param>
        public void XdrDecode(XdrDecodingStream xdr)
        {
            this._Setmode = xdr.XdrDecodeBoolean();
            if (this._Setmode)
            { this._Mode.Mode = xdr.XdrDecodeInt(); }

            this._Setuid = xdr.XdrDecodeBoolean();
            if (this._Setuid)
            { this._Uid = xdr.XdrDecodeInt(); }

            this._Setgid = xdr.XdrDecodeBoolean();
            if (this._Setgid)
            { this._Gid = xdr.XdrDecodeInt(); }

            this._Setsize = xdr.XdrDecodeBoolean();
            if (this._Setsize)
            { this._Size = xdr.XdrDecodeInt(); }

            this._Setatime = (xdr.XdrDecodeBoolean() ? TimeHow.SET_TO_CLIENT_TIME : TimeHow.DONT_CHANGE);
            if (this._Setatime != TimeHow.DONT_CHANGE)
            { this._Atime = new NFSTimeValue(xdr); }

            this._Setmtime = (xdr.XdrDecodeBoolean() ? TimeHow.SET_TO_CLIENT_TIME : TimeHow.DONT_CHANGE);
            if (this._Setmtime != TimeHow.DONT_CHANGE)
            { this._Mtime = new NFSTimeValue(xdr); }
        }

        /// <summary>
        /// Gets or sets the file permission mode.
        /// </summary>
        public NFSPermission Mode
        {
            get
            { return this._Mode; }
            set
            { this._Mode = value; }
        }

        /// <summary>
        /// Gets or sets whether to set the file permission mode.
        /// </summary>
        public bool SetMode
        {
            get
            { return this._Setmode; }
            set
            { this._Setmode = value; }
        }

        /// <summary>
        /// Gets or sets the user ID.
        /// </summary>
        public int UserID
        {
            get
            { return this._Uid; }
            set
            { this._Uid = value; }
        }

        /// <summary>
        /// Gets or sets whether to set the user ID.
        /// </summary>
        public bool SetUserID
        {
            get
            { return this._Setuid; }
            set
            { this._Setuid = value; }
        }

        /// <summary>
        /// Gets or sets the group ID.
        /// </summary>
        public int GroupID
        {
            get
            { return this._Gid; }
            set
            { this._Gid = value; }
        }

        /// <summary>
        /// Gets or sets whether to set the group ID.
        /// </summary>
        public bool SetGroupID
        {
            get
            { return this._Setgid; }
            set
            { this._Setgid = value; }
        }

        /// <summary>
        /// Gets or sets the file size in bytes.
        /// Setting this property also sets <see cref="SetSize"/> to true.
        /// </summary>
        public long Size
        {
            get
            { return this._Size; }
            set
            {
                this._Size = value;
                this._Setsize = true;
            }
        }

        /// <summary>
        /// Gets or sets whether to set the file size.
        /// </summary>
        public bool SetSize
        {
            get
            { return this._Setsize; }
            set
            { this._Setsize = value; }
        }

        /// <summary>
        /// Gets or sets the last access time.
        /// </summary>
        public NFSTimeValue LastAccessedTime
        {
            get
            { return this._Atime; }
            set
            { this._Atime = value; }
        }

        /// <summary>
        /// Gets or sets how to set the last access time.
        /// </summary>
        public TimeHow SetLastAccessedTime
        {
            get
            { return this._Setatime; }
            set
            { this._Setatime = value; }
        }

        /// <summary>
        /// Gets or sets the last modification time.
        /// </summary>
        public NFSTimeValue ModifiedTime
        {
            get
            { return this._Mtime; }
            set
            { this._Mtime = value; }
        }

        /// <summary>
        /// Gets or sets how to set the last modification time.
        /// </summary>
        public TimeHow SetModifiedTime
        {
            get
            { return this._Setmtime; }
            set
            { this._Setmtime = value; }
        }
    }
}
